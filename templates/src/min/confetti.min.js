window.onload=function(){var t=Math.random,i=Math.cos,e=Math.sin,n=Math.PI,r=2*n,s=0,h=void 0,o=[],a=3,u=12-a,l=100,d=-.1,f=-d-d,p=.13,c=.18,v=.4,m=.7-v,x=[function(){return y(200*t()|0,200*t()|0,200*t()|0)},function(){var i=200*t()|0;return y(200,i,i)},function(){var i=200*t()|0;return y(i,200,i)},function(){var i=200*t()|0;return y(i,i,200)},function(){return y(200,100,200*t()|0)},function(){return y(200*t()|0,200,200)},function(){var i=256*t()|0;return y(i,i,i)},function(){return x[t()<.5?1:2]()},function(){return x[t()<.5?3:5]()},function(){return x[t()<.5?2:4]()}];function y(t,i,e){return"rgb("+t+","+i+","+e+")"}var g=.1,w=g+g;var b=document.createElement("div");function C(s){this.frame=0,this.outer=document.createElement("div"),this.inner=document.createElement("div"),this.outer.appendChild(this.inner);var h=this.outer.style,o=this.inner.style;h.position="absolute",h.width=a+u*t()+"px",h.height=a+u*t()+"px",o.width="100%",o.height="100%",o.backgroundColor=s(),h.perspective="50px",h.transform="rotate("+360*t()+"deg)",this.axis="rotate3D("+i(360*t())+","+i(360*t())+",0,",this.theta=360*t(),this.dTheta=v+m*t(),o.transform=this.axis+this.theta+"deg)",this.x=window.innerWidth*t(),this.y=-l,this.dx=e(d+f*t()),this.dy=p+c*t(),h.left=this.x+"px",h.top=this.y+"px",this.splineX=function(){for(var i=[g,1-g],e=1-w,n=[0,1];e;){var r,s,h,o,a,u,l,d=e*t();for(r=0,s=i.length,e=0;r<s;r+=2){if(o=i[r],d<e+(h=(a=i[r+1])-o)){n.push(d+=o-e);break}e+=h}for(u=d-g,l=d+g,r=i.length-1;r>0;r-=2)o=i[s=r-1],a=i[r],o>=u&&o<l?a>l?i[s]=l:i.splice(s,2):o<u&&a>u&&(a<=l?i[r]=u:i.splice(r,0,u,l));for(r=0,s=i.length,e=0;r<s;r+=2)e+=i[r+1]-i[r]}return n.sort()}(),this.splineY=[];for(var x=1,y=this.splineX.length-1;x<y;++x)this.splineY[x]=l*t();this.splineY[0]=this.splineY[y]=l*t(),this.update=function(t,s){this.frame+=s,this.x+=this.dx*s,this.y+=this.dy*s,this.theta+=this.dTheta*s;for(var a=this.frame%7777/7777,u=0,d=1;a>=this.splineX[d];)u=d++;var f,p,c,v=(f=this.splineY[u],p=this.splineY[d],c=(a-this.splineX[u])/(this.splineX[d]-this.splineX[u]),(1-i(n*c))/2*(p-f)+f);return a*=r,h.left=this.x+v*i(a)+"px",h.top=this.y+v*e(a)+"px",o.transform=this.axis+this.theta+"deg)",this.y>t+l}}b.style.position="fixed",b.style.top="0",b.style.left="0",b.style.width="100%",b.style.height="0",b.style.overflow="visible",b.style.zIndex="1",function(){if(!h){document.body.appendChild(b);var i=x[0];!function e(){var n=new C(i);o.push(n),b.appendChild(n.outer),s<500&&(s=setTimeout(e,40*t()))}();var e=void 0;requestAnimationFrame((function t(i){var n=e?i-e:0;e=i;for(var r=window.innerHeight,a=o.length-1;a>=0;--a)o[a].update(r,n)&&(b.removeChild(o[a].outer),o.splice(a,1));if(s<500||o.length)return h=requestAnimationFrame(t);document.body.removeChild(b),h=void 0}))}}()};
