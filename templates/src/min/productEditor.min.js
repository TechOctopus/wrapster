const createProductDetailsImage=e=>`\n  <img\n      width="20"\n      height="20"\n      src="${e.image}"\n      alt="${e.name}"\n      class="object-contain object-center"\n  />\n`,createProductDetailsIcon=()=>'\n  <svg class="mx-auto h-12 w-12 text-gray-300" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">\n      <path fill-rule="evenodd" d="M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z" clip-rule="evenodd" />\n  </svg>\n',createProductPreviewImage=e=>`\n  <img\n      width="400"\n      height="400"\n      src="${e.image}"\n      alt="${e.name}"\n      class="object-fit h-full w-full object-contain object-center"\n      id="preview-image"\n  />\n`,initDetailsElements=e=>{const t={name:document.getElementById("product-name"),label:document.getElementById("product-label"),price:document.getElementById("product-price"),count:document.getElementById("product-count"),model:document.getElementById("product-model"),image:document.getElementById("product-image"),cover:document.getElementById("product-image-cover"),container:document.getElementById("product-image-container"),description:document.getElementById("product-description")};return void 0!==e&&(Array.from(Object.keys(t)).forEach((n=>{["name","price","label","description","model","count"].includes(n)&&(t[n].value=e[n])})),t.cover.innerHTML=createProductDetailsImage(e)),t},initPreviewElements=e=>{const t={name:document.getElementById("preview-name"),label:document.getElementById("preview-label"),price:document.getElementById("preview-price"),description:document.getElementById("preview-description"),image:document.getElementById("preview-image")};return void 0!==e&&(Array.from(Object.keys(t)).forEach((n=>{["name","label"].includes(n)&&(t[n].textContent=e[n]),"price"===n&&(t[n].textContent=e[n].toLocaleString("en-US",{style:"currency",currency:"USD"}))})),t.image.innerHTML=createProductPreviewImage(e)),t},stopDefaultBehavior=e=>{e.stopPropagation(),e.preventDefault()},renderImages=(e,t,n)=>{e.cover.innerHTML=createProductDetailsImage({image:n.image,name:n.name}),t.image.innerHTML=createProductPreviewImage({image:n.image,name:n.name})};export const productEditor=e=>{const t=initDetailsElements(e),n=initPreviewElements(e);Array.from(Object.keys(t)).forEach((e=>{t[e].addEventListener("input",(a=>{["name","label"].includes(e)&&(""===a.target.value?n[e].textContent="Product "+e:n[e].textContent=a.target.value),"image"===e&&(0===a.target.files.length?t.cover.innerHTML='\n  <svg class="mx-auto h-12 w-12 text-gray-300" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">\n      <path fill-rule="evenodd" d="M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z" clip-rule="evenodd" />\n  </svg>\n':renderImages(t,n,{image:URL.createObjectURL(a.target.files[0]),name:a.target.files[0].name})),"price"===e&&(n[e].textContent="$"+a.target.value)}))})),t.container.addEventListener("drop",(e=>{stopDefaultBehavior(e),t.container.classList.remove("border-indigo-600");const a=e.dataTransfer.files[0];n.image.innerHTML=createProductPreviewImage({image:URL.createObjectURL(a),name:a.name}),t.cover.innerHTML=createProductDetailsImage({image:URL.createObjectURL(a),name:a.name})})),t.container.addEventListener("dragover",(e=>{stopDefaultBehavior(e),t.container.classList.add("border-indigo-600")})),t.container.addEventListener("dragleave",(e=>{stopDefaultBehavior(e),t.container.classList.remove("border-indigo-600")})),t.container.addEventListener("dragenter",(e=>{stopDefaultBehavior(e)}))};
